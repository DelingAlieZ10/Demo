<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>title</title>
</head>

<body>
    <canvas id="canvas" width="800" height="600" style="border: 1px solid #f00"></canvas>
    <script>
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');

        // var img = document.createElement('img');
        var img = new Image();
        // img.src='images/beautify/rBACFFH1-B7DFB4PAAAYpkS1Sv4882_200x200_3.jpg'
        img.src = 'images/games/士兵(1).png';
        var i = 0;
        var x= 100;
        img.onload = function () {
            //  ctx.drawImage(img,0,0);
            //  ctx.drawImage(img,0,0,400,300);

            var width = img.width / 4;
            var height = img.height / 4;
            var timer = setInterval(function () {
                if (i > 3) {
                    i = 0;
                }
                ctx.clearRect(0,0,canvas.width,canvas.height);
                ctx.drawImage(img, width * i, height*2, width, height, x, 0, width, height);
                i++;
                x++;
                if(canvas.width-x<width){
                    clearInterval(timer);
                }
            }, 10)
        }
    </script>
</body>

</html>