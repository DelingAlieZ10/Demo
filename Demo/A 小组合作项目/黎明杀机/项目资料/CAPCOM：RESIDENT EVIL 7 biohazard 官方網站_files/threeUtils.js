function makeLight(a,d,f,g,c){var h={};"undefined"==typeof c&&(c={});var b=new THREE.CylinderGeometry(.1,1.5,5,64,20,!0);b.applyMatrix((new THREE.Matrix4).makeTranslation(0,-b.parameters.height/2,0));b.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var e=new THREEx.VolumetricSpotLightMaterial,b=new THREE.Mesh(b,e);b.position.set(a,d,f);b.lookAt(g);e.uniforms.lightColor.value.set(16777215);e.uniforms.spotPosition.value=b.position;e.uniforms.anglePower.value=c.anglePower?c.anglePower:20;
	e.uniforms.attenuation.value=c.attenuation?c.attenuation:3;h.lightMesh=b;a=new THREE.SpotLight;a.position.copy(b.position);a.color=b.material.uniforms.lightColor.value;a.exponent=30;a.angle=Math.PI/3;a.intensity=.8;h.spotLight=a;b.lookAt(g);a.target.position.copy(g);a.castShadow=!0;a.shadow.camera.near=.01;a.shadow.camera.ar=15;a.shadow.camera.fov=45;a.shadow.camera.left=-8;a.shadow.camera.right=8;a.shadow.camera.top=8;a.shadow.camera.bottom=-8;a.shadow.bias=0;a.shadow.darkness=.5;a.shadow.mapSize.width=
		1024;a.shadow.mapSize.height=1024;return h}var textureBuffer={};function loadTexture(a,d){if(textureBuffer[a])return textureBuffer[a];"undefined"==typeof d&&(d=function(){});var f=(new THREE.TextureLoader).load(a,d);return textureBuffer[a]=f};
