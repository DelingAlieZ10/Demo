<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>title</title>
    <style type="text/css">
    body,
    html,
    #allmap {
      width: 100%;
      height: 100%;
      overflow: hidden;
      margin: 0;
      font-family: "微软雅黑";
    }
  </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZuSbFihUuxRyEfO7ZqL8rGXKPRVuDmQ8"></script>
</head>
<body>
    <input type="button" name="" value="点击获取地理位置">
    <div id="allmap"></div>
</body>
<script>
    document.querySelector("input").onclick=function(){
        window.navigator.geolocation.getCurrentPosition(function(position){
            // 百度地图API功能
	var map = new BMap.Map("allmap");
	var point = new BMap.Point(position.coords.longitude,position.coords.latitude);
	map.centerAndZoom(point, 15);
	var marker = new BMap.Marker(point);  // 创建标注
	map.addOverlay(marker);               // 将标注添加到地图中
	marker.setAnimation(BMAP_ANIMATION_BOUNCE); //跳动的动画
        })
    }
</script>
</html>